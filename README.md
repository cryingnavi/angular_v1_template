## 서버 환경
1. node.js - v6.11.1
2. express.js - v4.13.1

## 클라이언트 환경
클라이언트 프레임웍들은 bower사용하여 인스톨 했습니다.
1. angularjs - v1.6.6
2. requirejs - v2.3.5
3. bootstrap - v4.0.0-beta
4. angular-ui-router - v0.4.2

## 구동하기
1. npm install
2. npm run start

## 프로젝트 소개
angular 1.x 버젼을 사용했습니다. 기존 ECMA script를 사용한 과제 수행이 필요할 거 같아 angular 1.x를 선택하였습니다. 또한 angular 1.x가 익숙하기도 한것이 선택 이유이기도 합니다.
최신 기술 사항(ECMA 6, webpack 등)을 고려한 과제 수행은 vue.js를 선택하여 별도의 프로젝트로 구성하였으며 해당 과제는 [여기](https://github.com/cryingnavi/naver_vue)에서 참조할 수 있습니다.

서버는 node와 express.js로 구현했습니다. express.js는 REST API를 통신을 위한 용도로만 사용했습니다. 별도의 인증 모듈과 디비는 사용하지 않았습니다. 모든 데이터는 메모리에 올렸으며, 서버를 재시작할 경우 초기화 되도록 되어 있습니다.

## 구현된 REST API
1. 로그인
로그인 버튼을 클릭하여 로그인을 시도하면 서버가 고유한 토큰을 발행하여 쿠키에 저장합니다. 그리고 이후 다른 REST API 는 이 토큰을 포함하여 요청됩니다. 이후 REST API는 해당 토큰을 검증하여 유효성을 판단할 수 있지만 이 부분은 구현되지 않았습니다.
2. 로그아웃
토큰을 만료 시키고 로그아웃 시킵니다.
3. 게시글 목록 불러오기
로그인 유무와 상관없이 게시글 목록을 불러올 수 있습니다.
4. 게시글 상세 보기
로그인 유무와 상관없이 게시글 상세를 불러올 수 있습니다.
5. 게시글 수정하기
로그인한 상태에서 해당 게시글을 작성한 유저라면 게시글을 수정할 수 있습니다. API차원에서 토큰 검증은 수행하지 않습니다.
6. 게시글 삭제하기
로그인한 상태에서 해당 게시글을 작성한 유저라면 게시글을 삭제할 수 있습니다. API차원에서 토큰 검증은 수행하지 않습니다.
7. 게시글 생성하기
로그인한 상태라면 게시글을 생성할 수 있습니다.

## 회원 권한 설명
1. 로그인이 가능한 유저는 super, user1, user2 세개 입니다. 비밀번호는 체크하지 않으며 아무렇게나 치고 넘어갈 수 있습니다.
2. super는 관리자 계정으로 모든 유저의 수정/삭제 권한을 가집니다.
3. user1 또는 user2로 로그인 했을 경우, 자신이 쓴글에 대해서만 수정/삭제 권한을 가집니다.


## 서버 구조
1. server.js - 서버 관련 설정 및 서버를 구동합니다.
2. routers/apis.js - REST API를 정의 합니다.
2. controllers/apis.js - REST API의 요청을 처리할 컨트롤러 입니다.


## 클라이언트 설명
1. naver.js
angular 1.x 모듈로서 공통 기능을 묶어두었습니다. 여기에서는 router 확장 기능만 들어가 있으나, 프로젝트에 따라 팝업, 화면 이동, REST API 핸들러, 하이브리드의 경우는 네이티브와 통신하는 역할 등을 공통 기능으로 가질 수도 있습니다.

naver.js의 핵심은 router의 확장입니다. naver router는 requirejs를 이용하여 controller와 템플릿을 동적으로 불러와 매칭합니다. requirejs를 사용한 이유는 동적으로 불러오는 자바스크립트를 평가하고 실행할때 이를 간편하게 하기 위한 목적입니다.
하나의 페이지는 하나의 템플릿과 하나의 컨트롤러로 구성됩니다. 고로 개발자는 페이지 하나를 만들기 위해 하나의 라우터와 하나의 템플릿과 하나의 컨트롤러를 생성해야 합니다.

라우터를 만드는 방법은 아래와 같습니다.
'''
"home": {
	"url": "/",
	"path": "/home",
	"name": "home",
	"views": "app-view",
	"isLogin": false
},
'''
- url은 페이지 url 을 가리킵니다.
- path는 템플릿과 컨트롤러가 있는 폴더 경로를 가리킵니다. 예를 들어 home이라고 명시하면 템플릿들의 상위 폴더인 public/views/home 폴더를 가리키며 컨트롤러는 public/controller/home 폴더를 가르킵니다. 이를 통해 업무별로 폴더를 구분할 수 있습니다.
- name은 파일명과 컨트롤러명을 가르킵니다. home이라고 명시하면 home.html 템플릿과 home.js 컨트롤러를 가르킵니다. 이때 컨트롤러 객체 명은 Home이 됩니다.
- isLogin은 페이지 접근 권한을 가르킵니다. true로 지정할 경우, 반드시 로그인된 사용자만 접근할 수 있는 페이지가 됩니다. false로 지정할 경우 로그인 되지 않은 사용자만 접근 가능합니다. 아무것도 명시하지 않았을 때는, 로그인유무와 상관없이 접근 가능합니다. app.module.js 안에 isLogin에 따른 resolve들을 구현해 두었습니다.

2.  app.module.js
- 어플리케이션을 시작하는 자바스크립트 파일입니다.
- anuglar 프로젝트를 생성하고 초기화를 수행합니다. 여기에서 라우터를 생성하게 됩니다. 또한, 각 라우터의 isLogin에 따라 resolve 함수들을 구현해두었습니다.
- 초기 컨트롤러 역할을 수행하는 run 에서는 전역 변수들과 전역 이벤트 핸들러인 logout 을 지정해두고 있습니다.

3. 템플릿
- url로 접근하면 라우터에서 지정한 템플릿을 불러와 지정한 "app-view" 엘리먼트에 추가하게 됩니다.
- 템플릿들은 public안의 views폴더 안에 존재합니다.


4. 컨트롤러
- url로 접근하면 라우터에서 지정한 컨트롤러를 불러와 실행합니다.
- 컨트롤러는 public안의 controller폴더 안에 존재합니다.
- 컨트롤러에서는 모델과 이벤트 핸들러를 지정합니다.
- 앵귤러의 $http 모듈을 이용하여 REST API를 호출하고 그결과를 모델에 할당합니다. 그리고 앵귤러가 이를 화면까지 바인딩합니다.



